webpackJsonp([1],{GK12:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("nav",{staticClass:"navbar is-light"},[r("div",{staticClass:"navbar-menu"},[r("div",{staticClass:"navbar-start"},[r("a",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),e._v(" "),r("a",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:"/search"}},[e._v("Search")])],1),e._v(" "),r("a",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:"/graphs"}},[e._v("Graphs")])],1),e._v(" "),r("a",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:"/article"}},[e._v("Article")])],1),e._v(" "),r("a",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1),e._v(" "),r("a",{staticClass:"navbar-item"},[r("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1)])])])])},staticRenderFns:[]},s={name:"App",data:function(){return{username:""}},components:{Navigation:r("VU/8")({name:"Navigation"},a,!1,null,null,null).exports}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navigation"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var o=r("VU/8")(s,i,!1,function(e){r("dcv2")},null,null).exports,l=r("/ocq"),c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Home page")]),this._v(" "),this.username?t("p",[this._v(this._s(this.username))]):this._e()])},staticRenderFns:[]},u=r("VU/8")({name:"Home",data:function(){return{username:""}}},c,!1,null,null,null).exports,p=r("mvHQ"),d=r.n(p),m={name:"Login",props:["username"],data:function(){return{error:"",username:"",password:""}},methods:{check:function(){var e=this,t=new RegExp("^[A-Za-z0-9_-]{1,255}$");0===this.username.length?this.error="Please enter username!":0===this.password.length?this.error="Please enter password!":t.test(this.username)?fetch("/login",{method:"POST",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:d()({username:this.username,password:this.password})}).then(function(t){if(200===t.status)return e.$router.push("/"),!0;404===t.status?e.error="Username/password invalid!":500===t.status?e.error="Internal Server Error":e.error="Something went wrong"}):this.error="Username is invalid, only contains alphabet and number, and at most 255 characters!"}}},v={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form"},[r("i",[e._v(e._s(e.error))]),e._v(" "),r("br"),e._v(" "),r("label",[e._v("Username")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",name:"username",type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),r("br"),e._v(" "),r("label",[e._v("Password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",name:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("br"),e._v(" "),r("button",{attrs:{type:"submit"},on:{click:e.check}},[e._v("Login")])])},staticRenderFns:[]},_=r("VU/8")(m,v,!1,null,null,null).exports,h={name:"Register",data:function(){return{error:"",username:"",password:"",repass:"",name:"",email:""}},methods:{check:function(){var e=this,t=new RegExp("^[A-Za-z0-9_-]{1,255}$"),r=new RegExp("S+@S+.S+");0===this.username.length?this.error="Please enter username!":0===this.password.length?this.error="Please enter password!":0===this.repass.length?this.error="Please re-enter password!":0===this.email.length?this.error="Please enter email!":t.test(this.username)?this.password!==this.repass?this.error="Passwords do not match":r.test(this.email)?fetch("/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:d()({username:this.username,password:this.password,name:this.name,email:this.email})}).then(function(t){200===t.status_code?e.$router.push("/home"):e.error="Something went wrong, try different account information!"}):this.error="Email invalid":this.error="Username is invalid, only contains alphabet and number, and at most 255 characters!"}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form"},[r("i",[e._v(e._s(e.error))]),e._v(" "),r("br"),e._v(" "),r("label",[e._v("Username")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",name:"username",placeholder:"Enter username",type:"text",required:"true"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),r("br"),e._v(" "),r("label",[e._v("Password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",name:"password",placeholder:"Enter password",type:"password",required:"true"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),r("br"),e._v(" "),r("label",[e._v("Re-enter password")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.repass,expression:"repass"}],attrs:{id:"repass",name:"repass",placeholder:"Enter password again",type:"password",required:"true"},domProps:{value:e.repass},on:{input:function(t){t.target.composing||(e.repass=t.target.value)}}}),e._v(" "),r("br"),e._v(" "),r("label",[e._v("Full name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",name:"name",placeholder:"Enter name",type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),r("br"),e._v(" "),r("label",[e._v("Email")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",name:"email",placeholder:"Enter email",type:"email",required:"true"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),r("br"),e._v(" "),r("button",{attrs:{type:"submit"},on:{click:e.check}},[e._v("Register")])])},staticRenderFns:[]},g=r("VU/8")(h,f,!1,null,null,null).exports,w=r("mtWM"),x=r.n(w),y=x.a.create({baseURL:"http://epiproapp.appspot.com/api/v1"}),b=function(e,t){return y.get("/reports/filter",{params:{"Start-date":e,"End-date":t}}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},E=x.a.create({baseURL:"http://www.doctorwhoseng.tk"}),R=function(e,t){return E.get("/articles",{params:{start_date:e,end_date:t}}).then(function(e){return e.data.articles}).catch(function(e){return console.log(e)})},P={name:"Article",data:function(){return{who_res:[],cidrap_res:[]}},created:function(){var e=this;b("2018-01-01T00:00:00","2018-02-01T00:00:00").then(function(t){e.who_res=t}).catch(function(e){return console.log(e)}),R("2018-08-01Txx:xx:xx","2018-08-01Txx:xx:xx").then(function(t){e.cidrap_res=t}).catch(function(e){return console.log(e)})}},k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Article")]),e._v(" "),e._l(e.who_res.concat(e.cidrap_res),function(t){return r("div",[r("h2",[e._v(e._s(t.headline))]),e._v(" "),r("p",[e._v(" URL: "+e._s(t.url)+" ")]),e._v(" "),r("p",[e._v(" Date published: "+e._s(t.date_of_publication.replace(/(Txx:xx:xx)|(T00:00:00)/g,""))+" ")]),e._v(" "),r("p",[e._v(" "+e._s(t.main_text)+" ")]),e._v(" "),r("h3",[e._v(" Reports ")]),e._v(" "),e._l(t.reports,function(t){return r("div",[t.disease.length?r("p",[e._v(" Diseases: ")]):e._e(),e._v(" "),r("ul",{staticStyle:{"list-style-type":"disc"}},e._l(t.disease,function(t){return r("div",[r("li",[e._v("\n          "+e._s(t)+"\n        ")])])}),0),e._v(" "),t.syndrome.length?r("p",[e._v(" Syndromes: ")]):e._e(),e._v(" "),r("ul",{staticStyle:{"list-style-type":"disc"}},e._l(t.syndrome,function(t){return r("div",[r("li",[e._v("\n          "+e._s(t)+"\n        ")])])}),0),e._v(" "),e._l(t.reported_events,function(t){return r("div",[r("p",[e._v(" Type: "+e._s(t.type)+" ")]),e._v(" "),t.date?r("p",[e._v(" Date: "+e._s(t.date.replace(/(Txx:xx:xx)|(T00:00:00)/g,""))+" ")]):e._e(),e._v(" "),t.location.location_name?r("p",[e._v(" Location: "+e._s(t.location.location_name)+" ")]):e._e(),e._v(" "),t.location.country?r("div",[r("p",[e._v(" Location: "+e._s(t.location.country)+" ")]),e._v(" "),r("ul",{staticStyle:{"list-style-type":"disc"}},e._l(t.location.location.split(";"),function(t){return r("div",[r("li",[e._v("\n                "+e._s(t)+"\n              ")])])}),0)]):e._e(),e._v(" "),t.number_affected?r("p",[e._v(" Number affected: "+e._s(t.number_affected)+" ")]):e._e(),e._v(" "),t["number-affected"]?r("p",[e._v(" Number affected: "+e._s(t["number-affected"])+" ")]):e._e()])})],2)}),e._v(" "),r("br")],2)}),e._v(" "),r("div",[e._v(" "+e._s(e.who_res)+" ")]),e._v(" "),r("div",[e._v(" "+e._s(e.cidrap_res)+" ")])],2)},staticRenderFns:[]},S=r("VU/8")(P,k,!1,null,null,null).exports,U=r("vwbq"),$={name:"PieGraph",mounted:function(){var e=Math.min(450,450)/2-40,t=U.m("#my_dataviz_pie").append("svg").attr("width",450).attr("height",450).append("g").attr("transform","translate(225,225)"),r={a:9,b:20,c:30,d:8,e:12},n=U.k().domain(r).range(U.l),a=U.g().value(function(e){return e.value})(U.e(r)),s=U.a().innerRadius(0).outerRadius(e);t.selectAll("mySlices").data(a).enter().append("path").attr("d",s).attr("fill",function(e){return n(e.data.key)}).attr("stroke","black").style("stroke-width","2px").style("opacity",.7),t.selectAll("mySlices").data(a).enter().append("text").text(function(e){return"grp "+e.data.key}).attr("transform",function(e){return"translate("+s.centroid(e)+")"}).style("text-anchor","middle").style("font-size",17)}},N={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Pie Graph")]),this._v(" "),t("meta",{attrs:{charset:"utf-8"}}),this._v(" "),t("div",{attrs:{id:"my_dataviz_pie"}})])}]},A={name:"LineGraph",mounted:function(){var e=50,t=50,r=50,n=50,a=window.innerWidth-n-t,s=window.innerHeight-e-r,i=U.j().domain([0,20]).range([0,a]),o=U.j().domain([0,10]).range([s,0]),l=U.f().x(function(e,t){return i(t)}).y(function(e){return o(e.y)}).curve(U.d),c=U.i(21).map(function(e){return{y:10*U.h(1)()}}),u=U.m("#my_dataviz_line").append("svg").attr("width",a+n+t).attr("height",s+e+r).append("g").attr("transform","translate("+n+","+e+")");u.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(U.b(i)),u.append("g").attr("class","y axis").call(U.c(o)),u.append("path").datum(c).attr("class","line").attr("d",l),u.selectAll(".dot").data(c).enter().append("circle").attr("class","dot").attr("cx",function(e,t){return i(t)}).attr("cy",function(e){return o(e.y)}).attr("r",5)}},F={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Line Graph")]),this._v(" "),t("meta",{attrs:{charset:"utf-8"}}),this._v(" "),t("div",{attrs:{id:"my_dataviz_line"}})])}]};var G={name:"Graphs",components:{PieGraph:r("VU/8")($,N,!1,null,null,null).exports,LineGraph:r("VU/8")(A,F,!1,function(e){r("s8+n")},null,null).exports}},T={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Graphs")]),this._v(" "),t("PieGraph")],1)},staticRenderFns:[]},C=r("VU/8")(G,T,!1,null,null,null).exports,L={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Search")])])}]},V=r("VU/8")({name:"Search"},L,!1,null,null,null).exports,H={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("404 - Not Found")])])}]},j=r("VU/8")({name:"NotFound"},H,!1,null,null,null).exports;n.a.use(l.a);var z=new l.a({routes:[{path:"/",name:"Home",component:u},{path:"/Login",name:"Login",component:_},{path:"/Register",name:"Register",component:g},{path:"/Article",name:"Article",component:S},{path:"/Graphs",name:"Graphs",component:C},{path:"/Search",name:"Search",component:V},{path:"*",name:"NotFound",component:j}],mode:"history"});r("GK12");n.a.config.productionTip=!1,new n.a({el:"#app",router:z,components:{App:o},template:"<App/>"})},dcv2:function(e,t){},"s8+n":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.43bb7d3d08a8816f646f.js.map