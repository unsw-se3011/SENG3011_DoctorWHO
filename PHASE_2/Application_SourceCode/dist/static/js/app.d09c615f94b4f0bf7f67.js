webpackJsonp([1],{GK12:function(e,t){},HXZB:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"navbar is-light"},[n("div",{staticClass:"navbar-menu"},[n("div",{staticClass:"navbar-start"},[n("a",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),e._v(" "),n("a",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/search"}},[e._v("Search")])],1),e._v(" "),n("a",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/graphs"}},[e._v("Graphs")])],1),e._v(" "),n("a",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/article"}},[e._v("Article")])],1),e._v(" "),n("a",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/login"}},[e._v("Login")])],1),e._v(" "),n("a",{staticClass:"navbar-item"},[n("router-link",{attrs:{to:"/register"}},[e._v("Register")])],1)])])])])},staticRenderFns:[]},s={name:"App",components:{Navigation:n("VU/8")({name:"Navigation"},a,!1,null,null,null).exports}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Navigation"),this._v(" "),t("router-view"),this._v("\n  "+this._s(this.info)+"\n")],1)},staticRenderFns:[]};var o=n("VU/8")(s,i,!1,function(e){n("HXZB")},null,null).exports,l=n("/ocq"),c={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Home page")])])}]},u=n("VU/8")({name:"Home"},c,!1,null,null,null).exports,p=n("mtWM"),d=n.n(p),m={name:"Login",props:{},data:function(){return{error:"",username:"",password:""}},methods:{check:function(){var e=this,t=new RegExp("^[A-Za-z0-9_-]{1,255}$");0===this.username.value.length?this.error="Please enter username!":0===this.password.value.length?this.error="Please enter password!":t.test(this.username.value)?(console.log("POSTING REQ"),d.a.post("/login",{username:this.username.value,password:this.password.value}).then(function(t){console.log("DONE"),e.$router.push("/home")}).catch(function(t){console.log("NO"),console.log("error"),e.error="Username/password invalid!"})):this.error="Username is invalid, only contains alphabet and number, and at most 255 characters!"}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"login",on:{submit:e.check}},[n("div",{staticClass:"form"},[n("i",[e._v(e._s(e.error))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",name:"username",placeholder:"username",type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",name:"password",placeholder:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Login")])])},staticRenderFns:[]},h=n("VU/8")(m,v,!1,null,null,null).exports,_=n("mvHQ"),f=n.n(_),g={name:"Register",data:function(){return{error:"",username:"",password:"",repass:"",name:"",email:""}},methods:{check:function(){var e=this,t=new RegExp("^[A-Za-z0-9_-]{1,255}$"),n=new RegExp("S+@S+.S+");0===this.username.length?this.error="Please enter username!":0===this.password.length?this.error="Please enter password!":0===this.repass.length?this.error="Please re-enter password!":0===this.email.length?this.error="Please enter email!":t.test(this.username)?this.password!==this.repass?this.error="Passwords do not match":n.test(this.email)?fetch("/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:f()({username:this.username,password:this.password,name:this.name,email:this.email})}).then(function(t){if("TRUE"===t.status)return e.$router.push("/home"),True;e.error="Something went wrong, try different account information!"}):this.error="Email invalid":this.error="Username is invalid, only contains alphabet and number, and at most 255 characters!"}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"register",attrs:{action:"/register",method:"POST"},on:{submit:function(t){return e.check()}}},[n("div",{staticClass:"form"},[n("i",[e._v(e._s(e.error))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{id:"username",name:"username",placeholder:"Enter username",type:"text",required:"true"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{id:"password",name:"password",placeholder:"Enter password",type:"password",required:"true"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.repass,expression:"repass"}],attrs:{id:"repass",name:"repass",placeholder:"Enter password again",type:"password",required:"true"},domProps:{value:e.repass},on:{input:function(t){t.target.composing||(e.repass=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{id:"name",name:"name",placeholder:"Enter name",type:"text"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{id:"email",name:"email",placeholder:"Enter email",type:"email",required:"true"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),n("button",{attrs:{type:"submit"}},[e._v("Register")])])},staticRenderFns:[]},x=n("VU/8")(g,w,!1,null,null,null).exports,y=d.a.create({baseURL:"http://epiproapp.appspot.com/api/v1"}),b=function(e,t){return y.get("/reports/filter",{params:{"Start-date":e,"End-date":t}}).then(function(e){return e.data}).catch(function(e){return console.log(e)})},E=d.a.create({baseURL:"http://www.doctorwhoseng.tk"}),R=function(e,t){return E.get("/articles",{params:{start_date:e,end_date:t}}).then(function(e){return e.data.articles}).catch(function(e){return console.log(e)})},P={name:"Article",data:function(){return{who_res:[],cidrap_res:[]}},created:function(){var e=this;b("2018-01-01T00:00:00","2018-02-01T00:00:00").then(function(t){e.who_res=t}).catch(function(e){return console.log(e)}),R("2018-08-01Txx:xx:xx","2018-08-01Txx:xx:xx").then(function(t){e.cidrap_res=t}).catch(function(e){return console.log(e)})}},N={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Article")]),e._v(" "),e._l(e.who_res.concat(e.cidrap_res),function(t){return n("div",[n("h2",[e._v(e._s(t.headline))]),e._v(" "),n("p",[e._v(" URL: "+e._s(t.url)+" ")]),e._v(" "),n("p",[e._v(" Date published: "+e._s(t.date_of_publication.replace(/(Txx:xx:xx)|(T00:00:00)/g,""))+" ")]),e._v(" "),n("p",[e._v(" "+e._s(t.main_text)+" ")]),e._v(" "),n("h3",[e._v(" Reports ")]),e._v(" "),e._l(t.reports,function(t){return n("div",[t.disease.length?n("p",[e._v(" Diseases: ")]):e._e(),e._v(" "),n("ul",{staticStyle:{"list-style-type":"disc"}},e._l(t.disease,function(t){return n("div",[n("li",[e._v("\n          "+e._s(t)+"\n        ")])])}),0),e._v(" "),t.syndrome.length?n("p",[e._v(" Syndromes: ")]):e._e(),e._v(" "),n("ul",{staticStyle:{"list-style-type":"disc"}},e._l(t.syndrome,function(t){return n("div",[n("li",[e._v("\n          "+e._s(t)+"\n        ")])])}),0),e._v(" "),e._l(t.reported_events,function(t){return n("div",[n("p",[e._v(" Type: "+e._s(t.type)+" ")]),e._v(" "),t.date?n("p",[e._v(" Date: "+e._s(t.date.replace(/(Txx:xx:xx)|(T00:00:00)/g,""))+" ")]):e._e(),e._v(" "),t.location.location_name?n("p",[e._v(" Location: "+e._s(t.location.location_name)+" ")]):e._e(),e._v(" "),t.location.country?n("div",[n("p",[e._v(" Location: "+e._s(t.location.country)+" ")]),e._v(" "),n("ul",{staticStyle:{"list-style-type":"disc"}},e._l(t.location.location.split(";"),function(t){return n("div",[n("li",[e._v("\n                "+e._s(t)+"\n              ")])])}),0)]):e._e(),e._v(" "),t.number_affected?n("p",[e._v(" Number affected: "+e._s(t.number_affected)+" ")]):e._e(),e._v(" "),t["number-affected"]?n("p",[e._v(" Number affected: "+e._s(t["number-affected"])+" ")]):e._e()])})],2)}),e._v(" "),n("br")],2)}),e._v(" "),n("div",[e._v(" "+e._s(e.who_res)+" ")]),e._v(" "),n("div",[e._v(" "+e._s(e.cidrap_res)+" ")])],2)},staticRenderFns:[]},$=n("VU/8")(P,N,!1,null,null,null).exports,S=n("vwbq"),k={name:"PieGraph",mounted:function(){var e=Math.min(450,450)/2-40,t=S.m("#my_dataviz_pie").append("svg").attr("width",450).attr("height",450).append("g").attr("transform","translate(225,225)"),n={a:9,b:20,c:30,d:8,e:12},r=S.k().domain(n).range(S.l),a=S.g().value(function(e){return e.value})(S.e(n)),s=S.a().innerRadius(0).outerRadius(e);t.selectAll("mySlices").data(a).enter().append("path").attr("d",s).attr("fill",function(e){return r(e.data.key)}).attr("stroke","black").style("stroke-width","2px").style("opacity",.7),t.selectAll("mySlices").data(a).enter().append("text").text(function(e){return"grp "+e.data.key}).attr("transform",function(e){return"translate("+s.centroid(e)+")"}).style("text-anchor","middle").style("font-size",17)}},U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Pie Graph")]),this._v(" "),t("meta",{attrs:{charset:"utf-8"}}),this._v(" "),t("div",{attrs:{id:"my_dataviz_pie"}})])}]},T={name:"LineGraph",mounted:function(){var e=50,t=50,n=50,r=50,a=window.innerWidth-r-t,s=window.innerHeight-e-n,i=S.j().domain([0,20]).range([0,a]),o=S.j().domain([0,10]).range([s,0]),l=S.f().x(function(e,t){return i(t)}).y(function(e){return o(e.y)}).curve(S.d),c=S.i(21).map(function(e){return{y:10*S.h(1)()}}),u=S.m("#my_dataviz_line").append("svg").attr("width",a+r+t).attr("height",s+e+n).append("g").attr("transform","translate("+r+","+e+")");u.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(S.b(i)),u.append("g").attr("class","y axis").call(S.c(o)),u.append("path").datum(c).attr("class","line").attr("d",l),u.selectAll(".dot").data(c).enter().append("circle").attr("class","dot").attr("cx",function(e,t){return i(t)}).attr("cy",function(e){return o(e.y)}).attr("r",5)}},G={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Line Graph")]),this._v(" "),t("meta",{attrs:{charset:"utf-8"}}),this._v(" "),t("div",{attrs:{id:"my_dataviz_line"}})])}]};var A={name:"Graphs",components:{PieGraph:n("VU/8")(k,U,!1,null,null,null).exports,LineGraph:n("VU/8")(T,G,!1,function(e){n("s8+n")},null,null).exports}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Graphs")]),this._v(" "),t("PieGraph")],1)},staticRenderFns:[]},F=n("VU/8")(A,C,!1,null,null,null).exports,L={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("Search")])])}]},V=n("VU/8")({name:"Search"},L,!1,null,null,null).exports,H={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("404 - Not Found")])])}]},z=n("VU/8")({name:"NotFound"},H,!1,null,null,null).exports;r.a.use(l.a);var q=new l.a({routes:[{path:"/",name:"Home",component:u},{path:"/Login",name:"Login",component:h},{path:"/Register",name:"Register",component:x},{path:"/Article",name:"Article",component:$},{path:"/Graphs",name:"Graphs",component:F},{path:"/Search",name:"Search",component:V},{path:"*",name:"NotFound",component:z}],mode:"history"});n("GK12");r.a.config.productionTip=!1,new r.a({el:"#app",router:q,components:{App:o},template:"<App/>"})},"s8+n":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d09c615f94b4f0bf7f67.js.map